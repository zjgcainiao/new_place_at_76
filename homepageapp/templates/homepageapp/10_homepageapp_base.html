{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Amazing Automan- AI-driven repair shop</title>
    <!-- SEO Meta Tags-->
    <meta name="description" content="Tesla &amp; general automotive repair &amp; oil change. AI-driven modern auto repair shop.">
    <meta name="keywords" content="oil changes, a/c services, service lights on; radiator problems;">
    <meta name="author" content="Automan001@76prolubeplus.com">
    <!-- Viewport-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon and Touch Icons-->
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="{% static 'homepageapp/apple-touch-icon.png' %}"> -->
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'homepageapp/img/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'homepageapp/img/logo/logo-2022.svg' %}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <!-- import jQuery js first -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  
  
    <!-- Vendor scrits: js libraries and plugins-->
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js" integrity="sha512-2rNj2KJ+D8s1ceNasTIex6z4HWyOnEYLVC3FigGOmyQCZc2eBXKgOxQmo3oKLHyfcj53uz4QMsRCWNbLd32Q1g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.min.js" integrity="sha512-3dZ9wIrMMij8rOH7X3kLfXAzwtcHpuYpEgQg1OA4QAob1e81H8ntUQmQm3pBudqIoySO5j0tHN4ENzA6+n2r4w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{% static 'homepageapp/vendor/simplebar/dist/simplebar.min.js' %}"></script>
    <script src="{% static 'homepageapp/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js' %}"></script>
    <script src="{% static 'homepageapp/vendor/tiny-slider/dist/min/tiny-slider.js' %}"></script>
    <script src="{% static 'homepageapp/vendor/jarallax/dist/jarallax.min.js' %}"></script>
    <script src="{% static 'homepageapp/vendor/jarallax/dist/jarallax-element.min.js' %}"></script>
    
    <!-- Main theme script-->
    <script src="{% static 'homepageapp/js/theme.min.js' %}"></script>
    
    <!-- Page loading styles-->
    <style>
      .page-loading {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        -webkit-transition: all .4s .2s ease-in-out;
        transition: all .4s .2s ease-in-out;
        background-color: #1f1b2d;
        opacity: 0;
        visibility: hidden;
        z-index: 9999;
      }
      .page-loading.active {
        opacity: 1;
        visibility: visible;
      }
      .page-loading-inner {
        position: absolute;
        top: 50%;
        left: 0;
        width: 100%;
        text-align: center;
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
        -webkit-transition: opacity .2s ease-in-out;
        transition: opacity .2s ease-in-out;
        opacity: 0;
      }
      .page-loading.active > .page-loading-inner {
        opacity: 1;
      }
      .page-loading-inner > span {
        display: block;
        font-size: 1rem;
        font-weight: normal;
        color: #fff;;
      }
      .page-spinner {
        display: inline-block;
        width: 2.75rem;
        height: 2.75rem;
        margin-bottom: .75rem;
        vertical-align: text-bottom;
        border: .15em solid #9691a4;
        border-right-color: transparent;
        border-radius: 50%;
        -webkit-animation: spinner .75s linear infinite;
        animation: spinner .75s linear infinite;
      }
      @-webkit-keyframes spinner {
        100% {
          -webkit-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }
      @keyframes spinner {
        100% {
          -webkit-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }
      
    </style>
    <!-- Page loading scripts-->
    <script>
      // (function () {
      //   window.onload = function () {
      //     var preloader = document.querySelector('.page-loading');
      //     preloader.classList.remove('active');
      //     setTimeout(function () {
      //       preloader.remove();
      //     }, 2000);
      //   };
      // })();

      $(function(){
          var preloader = $('.page-loading');
          preloader.removeClass('active');
          setTimeout(function() {
            preloader.remove();
          }, 2000);

      });
    </script>


    <!-- font-awesome 6.4.2 css  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- MaterialDesign - Webfont  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/7.3.67/css/materialdesignicons.min.css" integrity="sha512-nRzny9w0V2Y1/APe+iEhKAwGAc+K8QYCw4vJek3zXhdn92HtKt226zHs9id8eUq+uYJKaH2gPyuLcaG/dE5c7A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- mdi icons css and its verifying js -->
    <!-- <script src="
    https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/scripts/verify.min.js
    "></script>

    <link href="
    https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/css/materialdesignicons.min.css
    " rel="stylesheet"> -->

    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/material-design-icons/4.0.0/font/MaterialIcons-Regular.ttf"
    ref='stylesheet'> -->

    <!-- Vendor Styles-->
    <link rel="stylesheet" media="screen" href="{% static '/homepageapp/vendor/simplebar/dist/simplebar.min.css' %}"/>
    <link rel="stylesheet" media="screen" href="{% static '/homepageapp/vendor/tiny-slider/dist/tiny-slider.css' %}"/>
    <!-- Main Theme Styles + Bootstrap-->
    <link rel="stylesheet" media="screen" href="{% static 'homepageapp/css/theme.min.css' %}">



  </head>
  <!-- Body-->
  <body class="bg-light">

    <!-- Page loading spinner-->
    <div class="page-loading active">
      <div class="page-loading-inner">
        <div class="page-spinner"></div><span>Loading...</span>
      </div>
    </div>

    <main class="page-wrapper">
      {% comment %}
        {% include 'homepageapp/12_sign_in_and_sign_up_modal.html' %}
      {% endcomment %}
      <!-- navbar navbar-expand-lg navbar-light bg-light -->
      <header class="navbar navbar-expand-lg navbar-light fixed-top" data-scroll-header="">
        <div class="container">
          <a class="navbar-brand me-1 me-xl-4" href="{% url 'homepageapp:homepage' %}">
          <img class="d-block" src="{% static '/homepageapp/2022-Logo-Transparent-small.png' %}" width="70" alt="Amazing Automan LLC"></a>
          <!-- toggle button  -->
          <button class="navbar-toggler btn-dark ms-auto collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="mdi mdi-apps navbar-toggle-icon-mdi"></span>
          </button>
          <!-- css style added for the toggle button defined right above  -->
          <style>
            .navbar-toggle-icon-mdi {
            font-size: 24px;  /* Adjust as needed */
            vertical-align: middle;  /* Center the icon vertically */
              }
          </style>     
           <a class="btn btn-primary btn-sm ms-2 order-lg-3" href="{% url 'customer_users:customer_user_register' %}"><i class="fi-user-plus me-2"></i>Register/Sign In</a>
          <!-- <a class="btn btn-primary btn-sm ms-2 order-lg-3" href="{% url 'customer_users:customer_user_register' %}"><i class="fi-users me-2"></i>Register/Sign In</a> -->
          <div class="collapse navbar-collapse order-lg-2" id="navbarNav">

            <ul class="navbar-nav navbar-nav-scroll" style="max-height: 35rem;">
              <!-- register and login  -->
              <!-- <li class="nav-item "><a class="nav-link nav-hover" href="{% url 'customer_users:customer_user_register' %}">Register/Login</a></li> -->

              <!-- Services -->
              <li class="nav-item dropdown py-2 me-lg-2">
                <a class="nav-link dropdown-toggle align-items-center border-end-lg border-light py-1 pe-lg-4" href="#" data-bs-toggle="dropdown" role="button" aria-expanded="false"><i class="fi-layers me-2"></i>Services</a>
                <ul class="dropdown-menu dropdown-menu-light">
                  <li><a class="dropdown-item" href="{% url 'homepageapp:services' %}"><i class="fi-car me-2"></i>Service List</a></li>
                  <li class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="{% url 'homepageapp:about-us' %}"><i class="fi-friends fs-base me-2"></i>About Us</a></li>
                  <li class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="{% url 'internal_users:internal_user_login' %}"><i class="fi-users fs-base me-2"></i>Employee Portal</a></li>
                  <li class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="{% url 'shops:payment_checkout' %}"><i class="fi-cash fs-base me-2"></i>Payment System</a></li>
                  <li class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="{% url 'shops:vehicle_search_product' %}"><i class="fi-car fs-base me-2"></i>Vehicle Reports</a></li>
                </ul>
              </li>
              
              <li class="nav-item "><a class="nav-link nav-hover" href="{% url 'appointments:create-appointment' %}">Service Appointment</a></li>
               
              {% comment %}
              <li class="nav-item"><a class="nav-link nav-hover" href="{% url 'shops:payment_checkout' %}">Our Shops</a></li>
              {% endcomment %}

            </ul>
            <!-- Sign In button for mobile -->
            <!-- <div class="text-end">
              <a class="btn btn-primary btn-sm ms-2 ms-lg-3 order-lg-3 d-none d-lg-block" href="{% url 'customer_users:customer_user_register' %}">
                <i class="fi-user-plus me-2"></i>Register/Sign In
              </a>
            </div> -->

            
          </div>
          <!-- end of navbarNav  -->

        </div>
        <!-- end of container -->
      </header>
    
     {% block content1-main %}
      This is the main block.
     {% endblock %}

     

    </main>
    {% include 'homepageapp/11_homepageapp_footer.html' %}
    {% comment %}
    {% include 'we_have_ai_helpers/20_chatbot.html' %}
    {% endcomment %}

    
    <div id="chatbotUI" class="card card-hover position-fixed bottom-0 end-0 m-3" style="display:none; max-width: 300px; z-index:1000;">
      <div class="card-header bg-secondary ">
          <span class="float-end" id="closeChatbot" style="cursor:pointer;">
            <i class="fas fa-times"></i>
          </span>
        <h5 class="card-title">Ask Pulido <small>(beta 1.0)</small></h5>
        <p class="text-muted">Our virtual technican. Automotive questions only. </p>

      </div>
        <div class="card-body">
            
            <textarea id="userInput" class="form-control" type="text" value="">
            </textarea>
            <button id="askButton" class="btn btn-primary mt-3">Ask</button>
            <div id="botResponse"  class="mt-2">
              <div id="loadingMessage" class="tex-bold" style="display:none;">Hmmm...Let me think...</div>
            </div>
        </div>
    </div>

    <!-- Button to enable chatbot -->
    <button id="enableChatbot" class="btn btn-outline-success btn-sm position-fixed bottom-0 end-0 m-2 fab-icon" style="z-index: 1000;"  aria-label="Talk to Pulido">
        <i class="fas fa-robot"></i> 
    </button>

    <!-- 2023-10-24; style for the fab-icon used in the Chatbot  -->
    <style>
      .card-hover:hover {
        box-shadow: 0 4px 8px rgba(0, 0, 0.2, 0.2);
      }
      .fab-icon {
        border-radius: 50%;  /* Makes the button circular */
        width: 60px;         /* Set width of the button */
        height: 60px;        /* Set height of the button */
        text-align: center;  /* Center the robot icon */
        padding: 0;          /* remove padding */
        font-size: 24px;     /* Set icon size */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);  /* Optional: Add a little shadow for depth */
        transition: transform 0.3s;  /* Optional: Smooth transition for hover effect */

    }

    .fab-icon:hover {
        transform: scale(1.1);  /* Optional: Slightly enlarge button when hovered */
    }

    /* Glossy metallic look for the header */
    .glossy-metallic {
        background: linear-gradient(160deg, #b5bdc8 0%, #828c95 36%, #28343b 100%);
        color: #fff;
        border: none;
    }
</style>
    <script>

      $(document).ready(function(){
          // $("#enableChatbot").click(function(){
          //     $("#chatbotUI").show(); // Show the chatbot UI
          //     $(this).hide(); // Hide the enable chatbot button
          // });

          $(document).on('click', '#enableChatbot', function() {
              $("#chatbotUI").show();
              $(this).hide();
          });

          var chatbotEndpoint = "{% url 'we_have_ai_helpers:chatbot_response' %}";
          $("#askButton").on("click",function(){

              // Disable the "Ask" button to display multiple requests being sent
              $(this).prop('disabled', true);

              $('#loadingMessage').show();
              let userText = $("#userInput").val();
              
              $.ajax({
                  url: chatbotEndpoint,
                  type: "POST",
                  dataType: "json",
                  data: { "user_input": userText },
                  headers: {
                      "X-Requested-With": "XMLHttpRequest",
                      "X-CSRFToken": getCookie("csrftoken")
                  },
                  success: function(data) {

                      $("#botResponse").text(data.response);
                       $('#loadingMessage').hide();
                       $('#askButton').prop('disabled', false);
                  },
                  error: function(error) {
                      $("#botResponse").text("Sorry, there was an error processing your request.");
                       $('#askButton').prop('disabled', false);
                  }
          


              });
          });
          // end of askButton 


          $("#closeChatbot").on('click', function() {
              $("#chatbotUI").hide();
              $("#enableChatbot").show();  // If you want to show the enable button again
          });




      });

      function getCookie(name) {
          let value = "; " + document.cookie;
          let parts = value.split("; " + name + "=");
          if (parts.length === 2) return parts.pop().split(";").shift();
      }
    </script>


  </body>

  <!-- Back to top button-->
  <a class="btn-scroll-top" href="#top" data-scroll>
    <span class="btn-scroll-top-tooltip text-muted fs-sm me-2">Top</span>
    <i class="btn-scroll-top-icon fi-chevron-up"> </i>
  </a>
 
</html>